<template>
  <section class="main-page-hero">
    <div class="main-page-hero__cover">
      <themed-image>
        <img light src="@/assets/hero-black.svg" alt="main-page-hero">
        <img dark src="@/assets/hero-white.svg" alt="main-page-hero">
        <img light-colored dark-colored src="@/assets/hero-color.svg" alt="main-page-hero">
      </themed-image>
    </div>
    <div class="main-page-hero__content">
      <div class="main-page-hero__title">
        <div class="main-page-hero__title__container">
          <g-image class="main-page-hero__logo" src="@/assets/logo-seal.svg" :immediate="true"></g-image>
          <slot></slot>
        </div>
      </div>
    </div>
  </section>
</template>

<style lang="scss">
$-hero-mobile-height: 240px;
$-hero-tablet-height: 280px;
$-hero-desktop-height: 250px;

$-logo-size-desktop: 78px;
$-logo-size-mobile: 68px;

.main-page-hero {
  position: relative;
  max-width: 100%;

  height: auto;
  padding: $gutter-xxlarge 0 53.24px 0;
  &__cover {
    img {
      position: absolute;
      width: 100%;
      height: 100%;
      overflow: hidden;
      object-fit: cover;
      transform: rotate(180deg);

      object-position: 0% 0%;
      margin-top: - $gutter-xxlarge;
      z-index: -1;
    }
  }

  &__fg {
    display: none;
  }

  &__content {
    border: 4px solid;
    border-radius: 16px;

    background-color: var(--theme-bg);
    color: var(--theme-fg);

    margin: 0 auto;
    @include respond-to("large and up") {
        width: rem(600px);
    }
    @include respond-to("medium") {
        width: rem(375px);
    }
    @include respond-to("small and down") {
        width: rem(310px);
    }
  }

  &__title {
    position: relative;
    width: 100%;
    height: 100%;
    @include respond-to("small and down") {
      padding: rem(24px) $gutter;
    }
    @include respond-to("medium") {
      padding: $gutter-large;
    }
    @include respond-to("large and up") {
      padding: rem(55px) $gutter rem(34px) $gutter;
    }

    &__container {
      width: 100%;
      height: 100%;

      h2 {
        margin: 0;
        text-align: center;
        @include respond-to("small and down") {
          margin: 0 auto;
          // TODO Maybe pass to a token
          font-size: rem(24px);
        }
        @include respond-to("large and up") {
          font-size: rem(32px);
        }
      }

      img {
        @include respond-to("medium and up") {
          width: rem($-logo-size-desktop);
          height: rem($-logo-size-desktop);
        }
        @include respond-to("small and down") {
          width: rem($-logo-size-mobile);
          height: rem($-logo-size-mobile);
        }
      }
    }
  }

  &__logo {
    position: absolute;

    @include respond-to("medium and up") {
      top: - ($-logo-size-desktop / 2);
      left: calc(100% / 2 - #{$-logo-size-desktop / 2});
    }
    @include respond-to("small and down") {
      display: none;
      top: - ($-logo-size-mobile / 2);
      left: calc(100% / 2 - #{$-logo-size-mobile / 2});
    }
  }
}
</style>
